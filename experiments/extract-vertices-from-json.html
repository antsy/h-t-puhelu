<html>
  <head>
    <title>Extracts vertices from JSON file generated by assimp2json tool</title>
  </head>
  <style>
    label {
      width: 50px;
      display: inline-block;
      font-weight: bold;
    }
  </style>
  <body>
    <p>
      Use <a href="https://github.com/acgessler/assimp2json">assimp2json</a> to convert your 3D model to JSON.
    </p>
    <p>
      Then paste the JSON in here.
    </p>
    <label for="source">
      Input
      <textarea onChange="work(this)" id="source" cols="120" rows="10"></textarea>
    </label>
    <p>
      The results will appear here.
    </p>
    <label for="vertices">
      Vertices
      <textarea id="vertices" readonly cols="120" rows="5"></textarea>
    </label>
    <br />
    <label for="faces">
      Faces
      <textarea id="faces" readonly cols="120" rows="5"></textarea>
    </label>
  </body>
  <script>
    const source = document.getElementById('source');
    const vertices = document.getElementById('vertices');
    const faces = document.getElementById('faces');

    const work = (event) => {
      try {
        const json = JSON.parse(source.value);
        if (json.meshes[0]) {
          vertices.value = JSON.stringify(json.meshes[0].vertices || '');
          faces.value = JSON.stringify([].concat.apply([], json.meshes[0].faces || ''));
        }
      } catch (e) {
        vertices.value = e.message;
        faces.value = e.message;
      }
    }
  </script>
</html>